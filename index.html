<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="javascript promises">
    <title>javascript promises
    </title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
 
</head>
<body class="p-3 m-0 border-0 bd-example">
    <h3>
        User Details Fetching By Using async and await
    </h3>
    <hr>
    <div class="container" id="user-details">
        <!-- <div class="row" >
        </div> -->
    </div>
    <script>
        let fetchApi= async(url)=>{
            try{
        let res=await fetch(url);
        let user_details=await res.json();
        let userDetails=user_details.map((user)=>{
            return`
            <div class="card text-center">
            <div class="card-header">
               ${user.name}
            </div>
            <div class="card-body">
                <h5 class="card-title">${user.username}</h5>
                <p class="card-text">Adrress:  ${user.address.street} , ${user.address.suite} , ${user.address.city} , ${user.address.zipcode}</p>
                <p class="card-text">Company:${user.company.name}</p>
                <p><a href="#" class="card-link">${user.email}</a></p>
            </div>
            <div class="card-footer text-body-secondary">
                <a href="#" class="card-link">${user.website}</a>
            </div>
            </div>
         `
        })
    
        document.querySelector("#user-details").innerHTML=userDetails;
        }
        catch (error) {
        console.log(`Error has occured while fetching the API${error}`)
        }
    }

        fetchApi("https://jsonplaceholder.typicode.com/users")
    </script>
    </body>
    </html>